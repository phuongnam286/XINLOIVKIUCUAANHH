<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>üíñ Tr√°i Tim L√£ng M·∫°n</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Inter:wght@300;600&display=swap" rel="stylesheet">
  <style>
    :root{--bg1:#ff9a9e;--bg2:#fecfef;--heart1:#ff5c7c;--heart2:#ff95b5}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Arial;}
    body{display:flex;align-items:center;justify-content:center;padding:28px;background:linear-gradient(135deg,var(--bg1),var(--bg2));}
    .page{width:100%;max-width:980px;background:rgba(255,255,255,0.9);border-radius:18px;padding:28px;box-shadow:0 20px 50px rgba(0,0,0,0.12);}
    .header{text-align:center;margin-bottom:18px}
    .header h1{font-family:'Georgia',cursive;font-size:48px;margin:0;color:#710722}
    .sub{color:#b90ec9;margin-top:6px}

    .stage{display:flex;gap:24px;align-items:center;justify-content:center;flex-wrap:wrap}
    .heart-wrap{width:420px;height:420px;display:flex;align-items:center;justify-content:center}

    /* Heart using pseudo elements */
    .heart{position:relative;width:60%;max-width:360px;height:60%;max-height:360px;transform:rotate(-45deg);}
    .heart::before,.heart::after{content:"";position:absolute;width:100%;height:100%;background:linear-gradient(135deg,var(--heart1),var(--heart2));border-radius:50%;}
    .heart::before{top:0;left:50%;transform:translate(-50%, -50%)}
    .heart::after{left:0;top:50%;transform:translate(-50%, -50%)}
    .heart-inner{position:absolute;left:50%;top:50%;width:100%;height:100%;transform:translate(-50%,-50%);box-shadow:0 18px 40px rgba(123,22,48,0.12);border-radius:6px;}

    /* Text inside heart (rotate back) */
    .heart-text{position:absolute;left:50%;top:50%;transform:rotate(45deg) translate(-50%,-50%);width:80%;text-align:start;color:#ed0e0e;font-size:20px;font-weight:500;line-height:1.05;font-family:'cursive',cursive;cursor:text;}

    .controls{flex:1;max-width:420px}
    .controls label{display:block;margin-bottom:6px;font-weight:600;color:#422}
    .controls textarea{width:100%;height:120px;padding:12px;border-radius:10px;border:1px solid rgba(0,0,0,0.06);font-size:16px}
    .buttons{margin-top:12px;display:flex;gap:8px}
    .btn{background:linear-gradient(90deg,var(--heart1),var(--heart2));color:#fff;padding:10px 14px;border-radius:10px;border:0;cursor:pointer;font-weight:700}
    .btn.secondary{background:#6b213f}

    .hint{margin-top:10px;color:#6b2a3a}

    @media (max-width:720px){.page{padding:18px}.heart-wrap{width:320px;height:320px}.heart-text{font-size:28px}}
  </style>
</head>
<body>
  <div class="page">
    <div class="header">
      <h1>ANH XIN L·ªñI VK IUUUUUU</h1>
      <div class="sub">iUUUU BX NHI·ªÄU L·∫ÆMMMM L·∫ÆMMMMM</div>
    </div>

    <div class="stage">
      <div class="heart-wrap">
        <div class="heart" id="heart">
          <div class="heart-inner"></div>
          <div class="heart-text" id="heartText" contenteditable="true" aria-label="L·ªùi nh·∫Øn">Anh y√™u em</div>
        </div>
      </div>

      <div class="controls">
        <label for="msg">L·ªùi nh·∫Øn</label>
        <textarea id="msg">Anh y√™u em</textarea>
        <div class="buttons">
          <button class="btn" id="updateBtn">NH·∫§N V√ÄO ƒê√ÇY N√à B√â EM</button>
          <button class="btn secondary" id="resetBtn">ƒê·∫∂T L·∫†I N√à</button>
        </div>
        <div class="hint">G√µ n·ªôi dung v√† nh·∫•n "NH·∫§N V√ÄO ƒê√ÇY N√à B√â EM
            "; ho·∫∑c ch·ªânh tr·ª±c ti·∫øp tr√™n tr√°i tim.</div>
      </div>
    </div>
  </div>

  <script>
    (function(){
      const msg = document.getElementById('msg');
      const updateBtn = document.getElementById('updateBtn');
      const resetBtn = document.getElementById('resetBtn');
      const heartText = document.getElementById('heartText');

      function setHeart(text){
        heartText.textContent = text || '';
        msg.value = text || '';
      }

      updateBtn.addEventListener('click', ()=> setHeart(msg.value.trim() || 'Anh y√™u em'));
      resetBtn.addEventListener('click', ()=> setHeart('Anh y√™u em'));

      heartText.addEventListener('input', ()=> { msg.value = heartText.textContent; });

      // place caret at end when focusing heart
      heartText.addEventListener('focus', ()=>{
        const range = document.createRange();
        const sel = window.getSelection();
        range.selectNodeContents(heartText);
        range.collapse(false);
        sel.removeAllRanges();
        sel.addRange(range);
      });

      // load from hash (optional sharing)
      const hash = location.hash.replace('#','');
      if(hash){
        try{ setHeart(decodeURIComponent(hash)); }catch(e){ setHeart(hash); }
      }
    })();
  </script>
</body>
</html>